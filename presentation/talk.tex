\documentclass[t]{beamer}
\usepackage{tikz}
\usepackage{pgf}
\usepackage{pgfplots}
\usetikzlibrary{positioning,shapes,shadows,arrows,calc,fadings,decorations.pathreplacing,shapes.geometric,snakes}
\usepackage{helvet}
\usepackage{calc}
\usepackage[utf8]{inputenc} % set your input encoding differently, if you want
\usepackage[english]{babel}

% Setting style of presentation
% =============================
\usetheme{NET}
\setbeamercovered{transparent=10}
\setbeamertemplate{navigation symbols}{}


% Some common packages
% ====================
\usepackage{units}
\usepackage{amsbsy}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphics}
\usepackage{epsf}
\usepackage{epsfig}
\usepackage{fixmath}
\usepackage{wrapfig}
\usepackage{tikz}

\usepackage{caption}
\usepackage{subcaption}
\usepackage{float}


%\usepackage{subfigure}

\pgfrealjobname{talk}

\input{./pgfboxplot}


% Adapt title information
% =======================
\title{An Extendable Link Layer Frame Format for Wireless Coded Mesh Networks}
\author{Martin Herrmann}
\institute{Chair for Network Architectures and Services\\ \vspace{1.5em} Department for Computer Science\\Technische Universität München}
\date{\today}





% ==============
% DOCUMENT BEGIN
% ==============
\begin{document}

% Typeset title page
% ------------------------------------------------------------------------
\setbeamertemplate{background}{\NETBlackTransparent{width=2.3\paperwidth}}
\begin{frame}
    \titlepage
\end{frame}
\setbeamertemplate{background}{}
% ------------------------------------------------------------------------


% MOTIVATION
% ------------------------------------------------------------------------
\section{Motivation a.k.a. "The Old Header"}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents[currentsection]
\end{frame}

\begin{frame}
    \frametitle{Motivation a.k.a. "The Old Header"}
    \textbf{What is a Wireless (Coded) Mesh-Network?}
	
	\begin{itemize}
		\item Nodes in the network are connected wirelessly
		\item Many different possible routes $\implies $ \textbf{reliability}
		\item Combining packets using finite field arithmetic
	\end{itemize}

	\begin{figure}
	\begin{tikzpicture}[scale=.5]
		\visible<1> {
		\draw[line width=1pt] (0,0) -- (3,3);
		\draw[line width=1pt] (2,7) -- (3,3);
		\draw[line width=1pt] (9,4) -- (3,3);
		}
		\draw[line width=1pt] (9,4) -- (13,6);
		\draw[line width=1pt] (9,4) -- (11,1);

		\visible<2> {
		\draw[line width=1pt, dashed] (0,0) -- (3,3);
		\draw[line width=1pt, dashed] (2,7) -- (3,3);
		\draw[line width=1pt, dashed] (9,4) -- (3,3);
		}

		\visible<3> {
		\draw[line width=1pt] (0,0) -- (2,7);
		\draw[line width=1pt] (2,7) -- (9,4);
		}

		\draw[color=blue!40, fill=blue!10, line width=1pt] (0,0) circle(.5);
		\visible<1> {\draw[color=blue!40, fill=blue!10, line width=1pt] (3,3) circle(.5);}
		\visible<2-> {\draw[color=red!40, fill=red!10, line width=1pt, dashed] (3,3) circle(.5);}
		\draw[color=blue!40, fill=blue!10, line width=1pt] (11,1) circle(.5);
		\draw[color=blue!40, fill=blue!10, line width=1pt] (2,7) circle(.5);
		\draw[color=blue!40, fill=blue!10, line width=1pt] (9,4) circle(.5);
		\draw[color=blue!40, fill=blue!10, line width=1pt] (13,6) circle(.5);

	\end{tikzpicture}
	\end{figure}
    

\end{frame}

\begin{frame}
    \frametitle{Motivation a.k.a. "The Old Header"}
    \textbf{The old moep80211 Header}
    
    \begin{figure}
        \input{moep80211packet.tikz}
    \end{figure}

    \begin{itemize}
        \item<2-> Very large (36 -- 172 Bytes), not all information is always of interest
        \item<3-> Different versions for different purposes, no efficient way for assembling the header
    \end{itemize}
\end{frame}
% ------------------------------------------------------------------------


% IEEE 802.11
% ------------------------------------------------------------------------
\section{IEEE 802.11}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents[currentsection]
\end{frame}

\begin{frame}
    \frametitle{IEEE 802.11}
    \textbf{Why use IEEE 802.11?}

	\begin{itemize}
        \item moep80211 is based on IEEE 802.11 and cannot access the physical medium by itself \pause
        \item Advantage: can be used with existing wireless hardware \pause
        \item Disadvantage: having to "deal" with the IEEE 802.11 header
    \end{itemize}

	\pause

	\begin{figure}
		\centering
		\input{graphics/ieee80211_frame}
		\caption{Generic IEEE 802.11 header}
	\end{figure}
    

\end{frame}

\begin{frame}
    \frametitle{IEEE 802.11}
    \textbf{Problems due to the IEEE 802.11 header}

	\begin{itemize}
        \item<1-> Frame format must adhere to the basic IEEE 802.11 structure
		\item<2-> A receiver must still be able to \textbf{differentiate} between moep80211 and regular frames
        \item<3-> Changing of some fields is not possible or causes problems elsewhere $\implies $ \textbf{presence of unnecessary information}
    \end{itemize}


    \begin{figure}
		\centering
		\input{graphics/ieee80211_frame}
		\caption{Generic IEEE 802.11 header}
	\end{figure}

\end{frame}

% ------------------------------------------------------------------------


% A new Header Structure
% ------------------------------------------------------------------------
\section{The new Header Structure}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents[currentsection]
\end{frame}

\begin{frame}
    \frametitle{The new Header Structure}
    \textbf{Basic idea}
    
   The old structure was complicated and not very efficient. Performance and expandability are improved by using following concepts: \pause
    
    \begin{itemize}
        \item Use of a \emph{generic header} that contains the basic information \pause
        \item Adding of \emph{extension headers} where special information is necessary \pause
        \item Moving the frame discriminator into the third address field of the IEEE 802.11 header
    \end{itemize}

\end{frame}

\begin{frame}
    \frametitle{The new Header Structure}
    \textbf{The new generic frame header}

    \begin{figure}
	\input{graphics/moep80211_generic}
	\end{figure}
	\pause

    \textbf{Frame discriminator}
    \begin{itemize}
        \item Third address field set to value of \emph{fe:ff:ff:12:34:56} \pause
        \item Locally administered unicast MAC address \pause
        \item Should not be in regular use
    \end{itemize}

\end{frame}

\begin{frame}
    \frametitle{The new Header Structure}
    \textbf{Extension headers}

    \begin{itemize}
        \item Contain specific additional information \pause
        \item Are identified by their extension header ID (EID) in the previous header \pause
        \item Usually start with a next header field \pause
		\item May affect the data following after the extension
    \end{itemize}
    \pause

    \vspace{0.2cm}
    \begin{figure}
    \input{graphics/moep80211_ext_form}
    \end{figure}

\end{frame}

\begin{frame}
    \frametitle{The new Header Structure}
    \textbf{Existing extensions}

    
    \begin{figure}
        \begin{subfigure}[b]{.45\linewidth}
        \input{graphics/ethertype_ext_header}
	\caption{EthertypeLength header}
	\end{subfigure}
	\begin{subfigure}[b]{.45\linewidth}
        \input{graphics/multipacket_ext_header}
	\caption{Multipacket header}
        \end{subfigure}\\
    \vspace{0.5cm}
	\begin{subfigure}[b]{.8\linewidth}
        \input{graphics/moep_coded_new}
	\caption{Coding header}
        \end{subfigure}
    \end{figure}

    

\end{frame}

\begin{frame}
    \frametitle{The new Header Structure}
    \textbf{Multipacket frame format}
    \vspace{0.2cm}
    
    \begin{figure}
    \input{graphics/multipacket}
    \end{figure}

\end{frame}
% ------------------------------------------------------------------------


% EVALUATION
% ------------------------------------------------------------------------
\section{Evaluation}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents[currentsection]
\end{frame}

\begin{frame}
    \frametitle{Evaluation}
    \textbf{Comparison of header sizes}
   
    \begin{figure}
	\setcounter{subfigure}{0}
	\begin{subfigure}[b]{.8\linewidth}
        \input{graphics/comparison_old_new_uncoded}
		\caption{Comparison of uncoded PTM headers}
    \end{subfigure}\\
	\vspace{0.8cm}
	\begin{subfigure}[b]{.8\linewidth}
        \input{graphics/comparison_old_new_coded}
		\caption{Comparison of coded NCM headers}
    \end{subfigure}
    \end{figure}


\end{frame}

\begin{frame}
    \frametitle{Evaluation}
    \textbf{Efficiency of header generation}

    \begin{figure}
	\setcounter{subfigure}{0}
		\centering
		\begin{subfigure}[b]{.45\linewidth}
			\scalebox{.6}{\input{graphics/eval_moep80211-8023}}
			\caption{PTM translation times for moep80211 to IEEE 802.11}
		\end{subfigure}
		\begin{subfigure}[b]{.45\linewidth}
			\scalebox{.6}{\input{graphics/eval_8023-moep80211}}
			\caption{PTM translation times for IEEE 802.11 to moep80211}
		\end{subfigure}
		%\caption{\small Translation times of the PTM module for moep80211 to IEEE 802.3 (left) and vice-versa (right)}
    \end{figure}

\end{frame}

\begin{frame}
    \frametitle{Evaluation}
    \textbf{Efficiency of header generation}

    \begin{figure}
		\centering
		\scalebox{.8}{\input{graphics/eval_functions}}
		\caption{\small Evaluation of the functions generating the different header}
    \end{figure}

\end{frame}
% ------------------------------------------------------------------------

% CONCLUSION
% ------------------------------------------------------------------------
\section{Conclusion}

\begin{frame}
    \frametitle{Outline}
    \tableofcontents[currentsection]
\end{frame}

\begin{frame}
    \frametitle{Conclusion}
    \textbf{Have the goals been reached?}

	\pause

	\begin{itemize}
		\item \textbf{Unified structure:} all frames use the same format and add extensions where needed\pause
        \item \textbf{Smaller headers:} the new structure is in many cases significantly smaller \pause
        \item \textbf{Efficency:} conversion is not significantly slower \pause
        \item \textbf{Extendability:} support of additional coding fields and new features
    \end{itemize}

\end{frame}

\begin{frame}
    \frametitle{Conclusion}
    \textbf{Future developments}

    \begin{itemize}
	
        \item moep80211 cannot be considered finished \pause
	\item Message encryption and authentication will become necessary in the future but are not supported yet\pause
        \item Addition is being developed by Julius Michaelis
    \end{itemize}
	\pause
    \begin{figure}
	\input{graphics/crypto_header}
	\caption{Encrypted session data format (by Julius Michaelis)}
    \end{figure}
\end{frame}
% ------------------------------------------------------------------------


\begin{frame}
    \frametitle{Bibliography}

	
        \bibliographystyle{amsalpha}
        {\footnotesize
	\bibliography{./literature.bib}}
	\nocite{*}
    

\end{frame}




\end{document}
